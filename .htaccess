Options -Indexes
DirectoryIndex index.php

# =========================
# Security headers snippet
# =========================
<IfModule mod_headers.c>
  Header always unset X-Powered-By
  Header unset X-Powered-By
  Header set Strict-Transport-Security "max-age=31536000; includeSubDomains"
</IfModule>

# =========================
# Rewrite routing
# =========================
<IfModule mod_rewrite.c>
  RewriteEngine On

  # لو موقعك داخل https://domain.com/ (ليس داخل subfolder)
  RewriteBase /

  # لا تعيد كتابة الملفات/المجلدات الموجودة
  RewriteCond %{REQUEST_FILENAME} -f [OR]
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteRule ^ - [L]

  # Friendly routes
  RewriteRule ^login/?$ login.php [L,QSA]
  RewriteRule ^register/?$ register.php [L,QSA]

  # توجيه كل الروابط إلى front controller
  RewriteRule ^ index.php [L]
</IfModule>

# =========================
# Protect sensitive files
# =========================
<FilesMatch "(\.env|composer\.json|composer\.lock|package\.json|package-lock\.json|yarn\.lock|\.sql|\.bak|\.ini|\.log)$">
  Require all denied
</FilesMatch>
