# Godyar CMS v1.11 — صيانة شاملة (Newupdate)

هذه الحزمة مهيّأة للرفع على GitHub وللاستخدام على الاستضافة.

## ما تم تنفيذه

### 1) تنظيف + جاهزية GitHub
- التأكد من عدم وجود ملفات أسرار داخل الريبو (لا يوجد `.env` — يوجد فقط `.env.example`).
- حذف/عدم تضمين `install.lock` (إن وُجد سابقاً) لتجنّب تعطيل التركيب في البيئات الجديدة.
- إبقاء مجلدات التشغيل (uploads/cache/storage/logs) مع ملفات حماية/placeholder فقط.

### 2) تأمين النظام (Hardening)
- تحديث **`.htaccess` (الجذر)** لإضافة:
  - `Options -Indexes`
  - منع الوصول للملفات الحساسة (مثل `.env`, composer/package, …)
  - منع الوصول لمجلدات داخلية لا يجب تقديمها مباشرة عبر HTTP: `vendor, includes, src, database, docs, storage, cache, tools`
  - Headers أمنية أساسية
  - Cache headers للأصول الثابتة (CSS/JS/Images/Fonts)
- إضافة **`tools/.htaccess`** لمنع الوصول المباشر لأدوات الصيانة عبر الويب.

### 3) التوافق مع قاعدة البيانات + المُثبّت
- التحقق من وجود الجداول التي كان الـ installer يتوقف عندها في الإصدارات السابقة:
  - `site_settings`, `tag_meta`, `news_audit_log`, `news_import_items`
  - (موجودة بالفعل ضمن schema الحالية)

### 4) جودة الكود (Codacy)
- يوجد ملف `.codacy.yml` + إعدادات PHPCS ضمن المشروع لتقليل الضوضاء والتركيز على core logic.

## ملاحظات تشغيل
- بعد رفع المشروع على الاستضافة: انسخ `.env.example` إلى `.env` واملأ بيانات DB.
- يوصى بحذف/قفل مجلد `install/` بعد الانتهاء من التثبيت على بيئة الإنتاج.

